<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stillF&nbsp;-&nbsp;Ptt文章</title>
    <link rel="stylesheet" type="text/css" href="/PttArticle/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/PttArticle/css/fontawesome-all.css">
    <link rel="stylesheet" type="text/css" href="/PttArticle/css/select2.css">
    <link rel="stylesheet" type="text/css" href="/PttArticle/css/toastr.min.css">
    <script type="text/javascript" src="/PttArticle/js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="/PttArticle/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/PttArticle/js/select2.js"></script>
    <script type="text/javascript" src="/PttArticle/js/toastr.min.js"></script>
</head>
<body>
    <header>
        <nav class="navbar navbar-inverse navbar-static-top" role="Navigation">
            <div class="container" style="width:100%">
                <div class="navbar-header">
                    <a href="https://stillf.github.io/" class="navbar-brand" style="color:#ffffff;margin-left:10px;" target="_blank">stillF&ensp;信柴柴，得第一</a>
                </div>
            </div>
        </nav>
    </header>

    <div class="container" style="width:100%">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div style="color:#333;font-size:22px;font-weight:bold;">
                Ptt文章
                <a href="https://github.com/stillF/PttArticle" style="margin-left:5px;" target="_blank"><i class="fas fa-link"></i></a>
            </div>
            <hr>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10">
            <div class="panel panel-default">
                <div class="panel-heading">
                    搜尋看版
                </div>
                <div class="panel-body">
                    <div class="form-inline">
                        <div class="form-group" style="margin-right:7px;">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="1">
                                    新
                                </label>
                            </div>
                        </div>
                        <div class="form-group" style="margin-right:7px;">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="2" checked>
                                    熱
                                </label>
                            </div>
                        </div>
                        <div class="form-group" style="margin-right:7px;">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="3">
                                    爆
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="4">
                                    推文
                                </label>
                            </div>
                        </div>
                        <div class="form-group input-group" style="margin-right:7px;">
                            <input class="form-control" id="recommend" type="number" min="1" max="100" value="10">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="cleanSearchBar('recommend')"><i class="far fa-trash-alt"></i></button>
                            </span>
                        </div>
                        <div class="form-group">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="5">
                                    作者
                                </label>
                            </div>
                        </div>
                        <div class="form-group input-group" style="margin-right:7px;">
                            <input type="text" class="form-control" id="author">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="cleanSearchBar('author')"><i class="far fa-trash-alt"></i></button>
                            </span>
                        </div>
                        <div style="margin-top: 15px;"></div>
                        <div class="form-group">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="6">
                                    標題
                                </label>
                            </div>
                        </div>
                        <div class="form-group input-group" style="margin-right:7px;">
                            <input type="text" class="form-control" id="keyWord">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="cleanSearchBar('keyWord')"><i class="far fa-trash-alt"></i></button>
                            </span>
                        </div>
                        <div class="form-group">
                            <div class="radio">
                                <label class="radio-inline control-label">
                                    <input type="radio" id="pttType" name="pttType" value="7">
                                    完整標題
                                </label>
                            </div>
                        </div>
                        <div class="form-group input-group" style="margin-right:7px;">
                            <input type="text" class="form-control" id="thread">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" onclick="cleanSearchBar('thread')"><i class="far fa-trash-alt"></i></button>
                            </span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label></label>
                        <select class="form-control" id="pttName">
                            <option value="Actuary">精打細算版</option>
                            <option value="Android">android版</option>
                            <option value="ask">ask版、問版</option>
                            <option value="Bank_Service">銀行版</option>
                            <option value="BB-Love">bl版</option>
                            <option value="Beauty">表特版</option>
                            <option value="BeautyBody">減重版、健身版</option>
                            <option value="book">book版、書版</option>
                            <option value="Boy-Girl">男女交往版</option>
                            <option value="BuyTogether">合購版</option>
                            <option value="CareerPlan">生涯規劃版</option>
                            <option value="cat">貓版、cat版</option>
                            <option value="CFP">理財版</option>
                            <option value="CodeJob">程式外包版、codejob版</option>
                            <option value="cookclub">cook版</option>
                            <option value="creditcard">信用卡版</option>
                            <option value="CVS">超商版</option>
                            <option value="dog">狗版、dog版</option>
                            <option value="drawing">抽獎版</option>
                            <option value="EAseries">歐美版、影集版</option>
                            <option value="e-coupon">優惠卷版</option>
                            <option value="e-seller">賣家版</option>
                            <option value="e-shopping">網購版</option>
                            <option value="Examination">國考版</option>
                            <option value="EZsoft">自製軟體版</option>
                            <option value="fastfood">速食版</option>
                            <option value="feminine_sex">女性-性版</option>
                            <option value="FITNESS">體適能版、健身版</option>
                            <option value="FollowWind">順風版</option>
                            <option value="Food">食物版、food版</option>
                            <option value="ForeignEX">外匯版</option>
                            <option value="gay">甲版、gay版</option>
                            <option value="Gemini">雙子版</option>
                            <option value="Gintama">銀魂版</option>
                            <option value="give">give版、贈送版</option>
                            <option value="Golden-Award">三金版</option>
                            <option value="Gossiping">八卦版</option>
                            <option value="graduate">研究所版</option>
                            <option value="guitar">吉他版</option>
                            <option value="Hate">黑特版、hate版</option>
                            <option value="HatePolitics">政黑版</option>
                            <option value="Headphone">耳機版</option>
                            <option value="HK-movie">港片版</option>
                            <option value="home-sale">房屋版</option>
                            <option value="hypermall">賣場版</option>
                            <option value="IC-Card">ic卡版</option>
                            <option value="iOS">ios版</option>
                            <option value="Japan_Travel">日本旅遊版</option>
                            <option value="Japandrama">日劇版</option>
                            <option value="joke">笑話版、joke版</option>
                            <option value="Kaohsiung">高雄版</option>
                            <option value="kochikame">烏龍派出所版</option>
                            <option value="lesbian">les版</option>
                            <option value="LGBT_SEX">同志性版、lgbt-sex版</option>
                            <option value="Lifeismoney">省錢版</option>
                            <option value="Little-Games">小遊戲版</option>
                            <option value="LittleNew">蠟筆小新版</option>
                            <option value="LivingGoods">生活精品版</option>
                            <option value="MacShop">Mac拍賣版、apple拍賣版</option>
                            <option value="MayDay">五月天版、MayDay版</option>
                            <option value="MobileComm">手機版</option>
                            <option value="mobile-game">手遊版、手機遊戲版</option>
                            <option value="MobilePay">支付版</option>
                            <option value="mobilesales">手機拍賣版</option>
                            <option value="movie">電影版</option>
                            <option value="MuscleBeach">重訓版、健身版</option>
                            <option value="ONE_PIECE">海賊王版</option>
                            <option value="optical">眼鏡版</option>
                            <option value="Option">期貨版</option>
                            <option value="Oversea_Job">海外工作版</option>
                            <option value="part-time">打工版</option>
                            <option value="PC_Shopping">電蝦版、電腦組裝版</option>
                            <option value="pet">寵物版、pet版</option>
                            <option value="PokemonGO">pokemon版、寶可夢版</option>
                            <option value="PublicServan">公職版</option>
                            <option value="Q_ary">問卷版</option>
                            <option value="S.H.E">S.H.E版、she版</option>
                            <option value="Salary">職場版</option>
                            <option value="sex">西施版、sex版</option>
                            <option value="single">單身版</option>
                            <option value="Soft_Job">soft版、軟體版</option>
                            <option value="soho">soho版</option>
                            <option value="SpaceArt">空間版</option>
                            <option value="stationery">文具版</option>
                            <option value="Steam">Steam遊戲版</option>
                            <option value="Stephen">周星馳版</option>
                            <option value="Stock">股票版</option>
                            <option value="Storage_Zone">硬碟版</option>
                            <option value="StupidClown">笨版</option>
                            <option value="Tainan">台南版</option>
                            <option value="TaiwanDrama">台劇版</option>
                            <option value="Tech_Job">科技版</option>
                            <option value="the_L_word">thelword版</option>
                            <option value="TuTsau">吐嘈版</option>
                            <option value="TW_Entertain">台綜版、台灣綜藝版</option>
                            <option value="TWproducts">國貨版</option>
                            <option value="TY_Research">氣象版</option>
                            <option value="UglyClub">醜版</option>
                            <option value="ukulele">ukulele版、烏克麗麗版</option>
                            <option value="Windows">Windows版</option>
                            <option value="WomenTalk">女版</option>
                            <option value="Zastrology">星座版</option>
                        </select>
                        <button type="button" class="btn btn-primary btn-block" style="margin-top:30px;" onclick="searchPtt();">送出</button>
                    </div>
                </div>
            </div>
            <div class="panel panel-default" style="margin-top:35px;">
                <div class="panel-heading">
                    常用看版
                    <div class="pull-right">
                        <span class="label label-success" style="cursor:pointer;" onclick="showMoreModal()">More</span>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="btn-group" role="group" style="margin-right:7px;margin-bottom:10px;">
                        <a href="https://www.ptt.cc/bbs/Lifeismoney/index.html" target="_blank" class="btn btn-default">省錢版</a>
                    </div>
                    <div class="btn-group" role="group" style="margin-right:7px;margin-bottom:10px;">
                        <a href="https://disp.cc/b/PttHot" target="_blank" class="btn btn-default">熱門文章</a>
                    </div>
                    <div class="btn-group" role="group" style="margin-right:7px;margin-bottom:10px;">
                        <button type="button" class="btn btn-default" onclick="searchRandomPtt()">隨機版</button>
                    </div>
                    <div class="btn-group" role="group" style="margin-right:7px;margin-bottom:10px;">
                        <a href="https://www.ptt.cc/bbs/index.html" target="_blank" class="btn btn-default">熱門看版</a>
                    </div>
                    <div class="btn-group" role="group" style="margin-right:7px;margin-bottom:10px;">
                        <a href="https://www.ptt.cc/cls/1186" target="_blank" class="btn btn-default">程式討論區</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade bs-example-modal-lg" id="moreModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Ptt</h4>
                </div>
                <div class="modal-body">
                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(1)">copy</button>
<pre id="pre1" style="margin-bottom:20px;">
//ptt.cc推文數
(function () {
    &#39;use strict&#39;;
    let i = 1;
    $(&quot;span:contains(&#39;文章網址&#39;)&quot;).nextAll(&#39;.push&#39;).each(function () {
        $(this).append(&#39;&lt;span style=&quot;float:left;margin-right:10px;&quot;&gt;&#39; + i + &#39;&lt;/span&gt;&#39;);
        i++;
    });
})();</pre>

                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(2)">copy</button>
<pre id="pre2" style="margin-bottom:20px;">
//ptt.cc頁面捲至回文區
$(&quot;html, body&quot;).animate({
	scrollTop: $(&quot;span:contains(&#39;文章網址&#39;)&quot;).next(&#39;.push&#39;).offset().top - 40
}, 1000);</pre>

                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(3)">copy</button>
<pre id="pre3" style="margin-bottom:20px;">
//ptt.cc推文整理
(function () {
    &#39;use strict&#39;;
    function getPushData(SEARCH_USER_ID) {
        let pushData = [];
        let _userId = &quot;&quot;, _pushContent = &quot;&quot;, _searchIndex = -1;
        $(&quot;.push&quot;).each(function () {
            _userId = jQuery.trim($(this).find(&quot;.push-userid&quot;).text());
            _searchIndex = pushData.findIndex((obj =&gt; obj.userId === _userId));
            if (_searchIndex !== -1) {
                _pushContent = pushData[_searchIndex][&quot;pushContent&quot;];
                _pushContent += ($(this).find(&quot;.push-content&quot;).text()).replace(&quot;: &quot;, &quot;&quot;) + &quot;\n&quot;;
                pushData[_searchIndex][&quot;pushContent&quot;] = _pushContent;
            } else {
                pushData.push({
                    userId: _userId,
                    pushContent: ($(this).find(&quot;.push-content&quot;).text()).replace(&quot;: &quot;, &quot;&quot;) + &quot;\n&quot;
                });
            }
        });
        if (jQuery.trim(SEARCH_USER_ID) !== &quot;&quot;) {
            _searchIndex = pushData.findIndex((obj =&gt; obj.userId === SEARCH_USER_ID));
            console.log(&quot;【&quot; + pushData[_searchIndex][&quot;userId&quot;] + &quot;】&quot;);
            console.log(pushData[_searchIndex][&quot;pushContent&quot;]);
        } else {
            let i = 0, iMax = pushData.length;
            for (i; i &lt; iMax; i++) {
                console.log(&quot;【&quot; + pushData[i][&quot;userId&quot;] + &quot;】&quot;);
                console.log(pushData[i][&quot;pushContent&quot;]);
            }
        }
    }
    getPushData(&quot;&quot;);
})();</pre>

                    <hr />

                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(4)">copy</button>
<pre id="pre4" style="margin-bottom:20px;">
//disp.cc推文數
(function () {
	&#39;use strict&#39;;
	let i = 1 , _spanClass = &quot;&quot;;
	$(&quot;.ptt-push-group &gt; .push_row &gt; span&quot;).each(function () {
		_spanClass = $(this).attr(&#39;class&#39;);
		if (_spanClass === &quot;fg131&quot; || _spanClass === &quot;fg137&quot;) {
			$(this).append(&#39;&lt;span style=&quot;float:left;margin-right:10px;&quot;&gt;&#39; + i + &#39;&lt;/span&gt;&#39;);
			i++;
		}
	});
})();</pre>

                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(5)">copy</button>
<pre id="pre5" style="margin-bottom:20px;">
//disp.cc頁面捲至回文區
$(&quot;#read_content&quot;).animate({
	scrollTop: $(&quot;.ptt-push-group&quot;).position().top + 20
}, 1000);</pre>

                    <button type="button" class="btn btn-success btn-xs" onclick="copyPreTxt(6)">copy</button>
<pre id="pre6" style="margin-bottom:20px;">
//disp.cc推文整理
(function () {
	&#39;use strict&#39;;
	function getPushData(SEARCH_USER_ID) {
		let pushData = [];
		let _userId = &quot;&quot;, _pushContent = &quot;&quot;, _searchIndex = -1;
		$(&quot;.ptt-push-group .push_row&quot;).each(function () {
			_userId = jQuery.trim($(this).find(&quot;.fg133:eq(0)&quot;).text());
			_searchIndex = pushData.findIndex((obj =&gt; obj.userId === _userId));
			if (_searchIndex !== -1) {
				_pushContent = pushData[_searchIndex][&quot;pushContent&quot;];
				$(this).find(&quot;.fgY0&quot;).each(function () {
					_pushContent += ($(this).text()).replace(&quot;: &quot;, &quot;&quot;) + &quot;\n&quot;;
				});
				pushData[_searchIndex][&quot;pushContent&quot;] = _pushContent;
			} else {
				_pushContent = &quot;&quot;;
				$(this).find(&quot;.fgY0&quot;).each(function () {
					_pushContent += ($(this).text()).replace(&quot;: &quot;, &quot;&quot;) + &quot;\n&quot;;
				});
				pushData.push({
					userId: _userId,
					pushContent: _pushContent
				});
			}
		});
		if (jQuery.trim(SEARCH_USER_ID) !== &quot;&quot;) {
			_searchIndex = pushData.findIndex((obj =&gt; obj.userId === SEARCH_USER_ID));
			console.log(&quot;【&quot; + pushData[_searchIndex][&quot;userId&quot;] + &quot;】&quot;);
			console.log(pushData[_searchIndex][&quot;pushContent&quot;]);
		} else {
			let i = 0,
			iMax = pushData.length;
			for (i; i &lt; iMax; i++) {
				console.log(&quot;【&quot; + pushData[i][&quot;userId&quot;] + &quot;】&quot;);
				console.log(pushData[i][&quot;pushContent&quot;]);
			}
		}
	}
	getPushData(&quot;&quot;);
})();</pre>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">關閉</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="navbar-inverse">
        <div class="container-fluid text-center">
            <p class="text-muted" style="margin-top:10px;color:#ffffff">© Copyright 2019. All Rights Reserved.</p>
        </div>
    </footer>

    <script type="text/javascript">
        $(document).ready(function () {
            $("#pttName").select2({
                width: "100%"
            });

            $("#pttName").change(function () {
                searchPtt();
            });
        });

        function searchPtt() {
            let pttUrl = "";
            let pttType = parseInt($("input[name='pttType']:checked").val());
            let pttName = $("#pttName").val();

            switch (pttType) {
                case 2://熱
                    pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=recommend%3A10";
                    break;
                case 3://爆
                    pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=recommend%3A100";
                    break;
                case 1://新
                    pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/index.html";
                    break;
                case 5://作者
                    if (jQuery.trim($("#author").val()) !== "") {
                        pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=author%3A" + $("#author").val();
                    } else {
                        toastr.error("請輸入「作者」");
                    }
                    break;
                case 6://標題
                    if (jQuery.trim($("#keyWord").val()) !== "") {
                        pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=" + $("#keyWord").val();
                    } else {
                        toastr.error("請輸入「標題」");
                    }
                    break;
                case 7://完整標題
                    if (jQuery.trim($("#thread").val()) !== "") {
                        pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=thread%3A" + $("#thread").val();
                    } else {
                        toastr.error("請輸入「完整標題」");
                    }
                    break;
                case 4://推文
                    if (jQuery.trim($("#recommend").val()) !== "") {
                        pttUrl = "https://www.ptt.cc/bbs/" + pttName + "/search?q=recommend%3A" + $("#recommend").val();
                    } else {
                        toastr.error("請輸入「推文數」");
                    }
                    break;
                default:
                    pttUrl = "";
                    break;
            }

            if (pttUrl !== "") {
                window.open(pttUrl, '_new');
            }
        }

        function searchRandomPtt() {
            let randomSeed = Math.floor(Math.random() * $("#pttName > option").length);
            let randomPtt = $("#pttName").find('option').eq(randomSeed).val();
            let pttUrl = "https://www.ptt.cc/bbs/" + randomPtt + "/search?q=recommend%3A10";
            window.open(pttUrl, '_new');
        }

        function cleanSearchBar(inputID) {
            $("#" + inputID).val("");
        }

        function showMoreModal() {
            $("#moreModal").modal("show");
        }

        function copyPreTxt(preID) {
            var _pre = document.querySelector("#pre" + preID);
            var _range = document.createRange();
            _range.selectNode(_pre);
            window.getSelection().addRange(_range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            toastr.success("複製成功");
        }

    </script>
</body>
</html>
